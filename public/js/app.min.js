function qsa(e,t){var t=t||document;return[].slice.call(t.querySelectorAll(e))}function ObjectMap(e){function t(e,t){var o=e,i=t;if(n.lockEdges){var s=-n.map.offsetWidth+n.viewingBox.offsetWidth,a=-n.map.offsetHeight+n.viewingBox.offsetHeight;o=s>o?s:o,i=a>i?a:i,o=o>0?0:o,i=i>0?0:i}n.map.style.left=o+"px",n.map.style.top=i+"px"}function o(e,t,o){e.attachEvent?(e["e"+t+o]=o,e[t+o]=function(){e["e"+t+o](window.event)},e.attachEvent("on"+t,e[t+o])):e.addEventListener(t,o,!1)}function i(e,t){this.x=e,this.y=t}var n=this;n.map=document.getElementById(e.id),n.width="undefined"==typeof e.width?100:e.width,n.height="undefined"==typeof e.height?100:e.height,n.scrolling="undefined"==typeof e.scrolling?!0:e.scrolling,n.scrollTime="undefined"==typeof e.scrollTime?300:e.scrollTime,n.lockEdges="undefined"==typeof e.lockEdges?!0:e.lockEdges,n.viewingBox=document.createElement("div"),"undefined"!=typeof e.cssClass&&(n.viewingBox.className=e.cssClass),n.mousePosition=new i,n.mouseLocations=[],n.velocity=new i,n.mouseDown=!1,n.timerId=-1,n.timerCount=0,n.map.parentNode.replaceChild(n.viewingBox,n.map),n.viewingBox.appendChild(n.map),n.viewingBox.style.overflow="hidden",n.viewingBox.style.width=n.width+"%",n.viewingBox.style.height=n.height+"%",n.viewingBox.style.position="relative",n.map.style.position="absolute",t("undefined"==typeof e.startX?0:-e.startX,"undefined"==typeof e.startY?0:-e.startY);var s=function(e){var o=e.clientX-n.mousePosition.x+parseInt(n.map.style.left),i=e.clientY-n.mousePosition.y+parseInt(n.map.style.top);t(o,i),n.mousePosition.x=e.clientX,n.mousePosition.y=e.clientY},a=function(){if(n.mouseDown)n.mouseLocations.unshift(new i(n.mousePosition.x,n.mousePosition.y)),n.mouseLocations.length>10&&n.mouseLocations.pop();else{var e=n.scrollTime/20,o=(e-n.timerCount)/e,s=n.velocity.x*o,a=n.velocity.y*o;t(-s+parseInt(n.map.style.left),-a+parseInt(n.map.style.top)),n.timerCount==e&&(clearInterval(n.timerId),n.timerId=-1),++n.timerCount}};o(n.viewingBox,"mousedown",function(e){n.viewingBox.style.cursor="grabbing",document.getElementById("objectMap").className="grabbing",n.mousePosition.x=e.clientX,n.mousePosition.y=e.clientY,o(document,"mousemove",s),n.mouseDown=!0,n.scrolling&&(n.timerCount=0,0!=n.timerId&&(clearInterval(n.timerId),n.timerId=0),n.timerId=setInterval(a,20))}),o(document,"mouseup",function(e){if(n.mouseDown){var t=s;if(document.detachEvent?(document.detachEvent("onmousemove",document["mousemove"+t]),document["mousemove"+t]=null):document.removeEventListener("mousemove",t,!1),n.mouseDown=!1,n.mouseLocations.length>0){var o=n.mouseLocations.length;n.velocity.x=(n.mouseLocations[o-1].x-n.mouseLocations[0].x)/o,n.velocity.y=(n.mouseLocations[o-1].y-n.mouseLocations[0].y)/o,n.mouseLocations.length=0}}n.viewingBox.style.cursor="auto",document.getElementById("objectMap").className="",e.target.classList.contains("drawer__link--active")||e.target.parentNode.classList.contains("drawer__contents")||qsa(".drawer__link").forEach(function(e){e.classList.remove("drawer__link--active")})})}var isMobile=navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|webOS)/);document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector("#objectMap");if(isMobile)left=Math.floor(Math.random()*getComputedStyle(e).width+1),top=Math.floor(Math.random()*getComputedStyle(e).height+1),setTimeout(function(){$("html, body").animate({scrollTop:"200px",scrollLeft:left},0)});else{new ObjectMap({id:"objectMap",height:100,width:100,startX:200,startY:200,cssClass:"mappy"});left=Math.floor(Math.random()*parseFloat(getComputedStyle(e).width)),top=Math.floor(Math.random()*parseFloat(getComputedStyle(e).height)),e.style.left=-left+"px",e.style.top=-top+"px"}qsa(".drawer__link").forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),this.classList.toggle("drawer__link--active")})}),document.querySelector(".site-header__contact").addEventListener("click",function(e){e.preventDefault(),document.querySelector(".dialog").classList.add("dialog--active")}),document.querySelector(".dialog__close").addEventListener("click",function(e){e.preventDefault(),document.querySelector(".dialog").classList.remove("dialog--active")})});